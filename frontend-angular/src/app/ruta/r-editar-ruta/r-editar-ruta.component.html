<div class="edit-modal">
  <div class="modal-header">
    <h2>Editar Ruta {{ ruta?.codigo }}</h2>
    <p-button icon="pi pi-times" severity="danger" (click)="closeEdit()"></p-button>
  </div>

  <div class="edit-content">
    <div class="form-section">
      <div class="form-group">
        <label for="codigo">Código</label>
        <input id="codigo" type="text" pInputText [(ngModel)]="ruta.codigo" *ngIf="ruta" />
      </div>

      <div class="form-group">
        <label>Hora de Inicio</label>
        <p-calendar [(ngModel)]="ruta.horario" *ngIf="ruta"></p-calendar>
      </div>

      <div class="form-group">
        <label for="dias">Días</label>
        <input id="dias" type="text" pInputText [(ngModel)]="ruta.horario.dia" *ngIf="ruta">
      </div>
    </div>

    <div class="stations-container">
      <div class="station-list">
        <h3>Estaciones Asignadas</h3>
        <div class="station-list-container">
          <div class="station-box" *ngFor="let estacion of estacionesAsignadas">
            <app-r-modulo-estacion [estacion]="estacion"></app-r-modulo-estacion>
            <p-button icon="pi pi-minus" label="Desasignar" class="desasignar-btn" (click)="desasignarEstacion(estacion)"></p-button>
          </div>
        </div>
      </div>

      <div class="station-list">
        <h3>Estaciones No Asignadas</h3>
        <div class="station-list-container">
          <div class="station-box" *ngFor="let estacion of estacionesNoAsignadas">
            <app-r-modulo-estacion [estacion]="estacion"></app-r-modulo-estacion>
            <p-button icon="pi pi-plus" label="Asignar" class="asignar-btn" (click)="asignarEstacion(estacion)"></p-button>
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <p-button (click)="saveChanges()" label="Guardar Cambios" icon="pi pi-check" severity="success"></p-button>
      <p-button *ngIf="canDelete()" (click)="deleteRoute()" label="Eliminar Ruta" icon="pi pi-times" severity="danger"></p-button>
    </div>
  </div>
</div>
